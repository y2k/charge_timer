"use strict";
const html = () => { return ["html", {"lang": "ru", "data-theme": "dark"}, ["head", ["meta", {"name": "viewport", "content": "width=device-width, initial-scale=1"}], ["link", {"rel": "stylesheet", "href": "css/pico.classless.css"}]], ["body", {"style": "user-select: none;"}, ["main", ["h3", {"id": "text1"}, "..."], ["h3", {"id": "text2"}, "..."], ["button", {"id": "btn"}, "Increment"]], ["script", {"src": "js/main.js"}]]] };
const charge_changed = (message) => { return document.querySelector("#text1").innerHTML = ("" + "Battery: " + JSON.parse(message).level + "%"); };
const main = () => { (function () { const count_ref = Array.of(0); return document.querySelector("#btn").addEventListener("click", (function () { const count_ref = Array.of(0); return () => { count_ref.push((1 + count_ref.pop())); return document.querySelector("#text2").innerHTML = count_ref.at(0); } })()) })(); return Android.registerBroadcast("charge_changed", "android.intent.action.BATTERY_CHANGED") };
(globalThis.navigator ? main() : (function () { const html_to_string = (node) => { return (function () { const tag = node.at(0); const attrs = node.at(1); const has_attrs = ((node.length > 1) && typeof node.at(1) === "object" && !Array.isArray(node.at(1))); return (typeof node === "string" ? node : ("" + "<" + tag + " " + (!has_attrs ? "" : Object.entries(attrs).reduce((a, x) => { return ("" + a + " " + x.at(0) + "='" + x.at(1) + "'") }, "")) + ">" + node.slice((has_attrs ? 2 : 1)).map(html_to_string).reduce((a, x) => { return ("" + a + x) }, "") + "</" + tag + ">")) })() };; return console.info(html_to_string(html())) })())
